<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0082)http://ctms.engin.umich.edu/CTMS/index.php?example=Introduction&section=ControlPID -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

		<script type="text/javascript" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/jquery.js"></script>
					
		<link rel="stylesheet" type="text/css" href="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/style.css">
		<script type="text/javascript">
	
			var example = "Introduction"; 
			var section = "ControlPID"; 
			var aux = ""; 
			var effects = Boolean(1); 
			var tips = Boolean(1); 
			$.fx.off = !effects;
			
			$(document).keydown(function(e){
				if (!$("#search_field").is(":focus")){
					if (e.keyCode == 39) { 
						window.location = "?example=Introduction&section=ControlRootLocus";
					}
					if (e.keyCode == 37) { 
						window.history.back()
					}
				}
			});		
			
		</script>
			
		
		<meta http-equiv="PRAGMA" content="NO-CACHE">
		
		<title>Control Tutorials for MATLAB and Simulink - Introduction: PID Controller Design</title>
			
	</head>

	<body>
	
		
		<div id="container" style="opacity: 1;">
		
			<form id="search_form"><input id="search_field" type="text" name="q" placeholder="Search Control Tutorials"></form>
			<form class="option_form" method="post" onclick="submit()"><div>Effects</div><input type="hidden" name="effects" value="0"><input type="checkbox" name="effects" value="1" checked="true"></form>
			<form class="option_form" method="post" onclick="submit()"><div>Tips</div><input type="hidden" name="tips" value="0"><input type="checkbox" name="tips" value="1" checked="true"></form>	
				
			<div style="clear:both"></div>
		
			<div id="header" style="height: 26px;">
		
				<a id="mathworks" href="http://www.mathworks.com/" title="MathWorks"><img src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Matlab.png"></a>

				<div id="logo_container" style="padding-top: 5px;">	
					<a href="http://www.umich.edu/" title="University of Michigan"><img class="logo" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/UMich.png"></a><a href="http://www.cmu.edu/" title="Carnegie Mellon University"><img class="logo" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/CMU.png"></a><a href="http://www.udmercy.edu/" title="University of Detroit Mercy"><img class="logo" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/UDMercy.png"></a>	
				</div>
				
				<div id="menu_container">
				
					<ul class="menu">
						<li class="heading" id="Tips"><a href="http://ctms.engin.umich.edu/CTMS/index.php?aux=Extras_Tips">TIPS</a></li>
						<div class="collapse"><div class="expand">
						</div></div>
					</ul>
				
					<ul class="menu">
						<li class="heading" id="About"><a>ABOUT</a></li>
						<div class="collapse"><div class="expand">
							<li class="item" id="About_Tutorials"><a href="http://ctms.engin.umich.edu/CTMS/index.php?aux=About_Tutorials">Tutorials</a></li>
							<li class="item" id="About_Contact"><a href="mailto:ControlTutorialsMatlabSimulink@gmail.com">Contact</a></li>
						</div></div>
					</ul>
					
					<ul class="menu">
						<li class="heading" id="Basics"><a>BASICS</a></li>
						<div class="collapse"><div class="expand">
							<li class="item" id="Basics_Matlab"><a href="http://ctms.engin.umich.edu/CTMS/index.php?aux=Basics_Matlab">MATLAB</a></li>
							<li class="item" id="Basics_Simulink"><a href="http://ctms.engin.umich.edu/CTMS/index.php?aux=Basics_Simulink">Simulink</a></li>
						</div></div>
					</ul>
					
					<ul class="menu">
						<li class="heading" id="Index"><a>INDEX</a></li>
						<div class="collapse"><div class="expand">
							<li class="item" id="Index_Tutorials"><a href="http://ctms.engin.umich.edu/CTMS/index.php?aux=Index_Tutorials">Tutorials</a></li>
							<li class="item" id="Index_Commands"><a href="http://ctms.engin.umich.edu/CTMS/index.php?aux=Index_Commands">Commands</a></li>
							<li class="item" id="Index_Animations"><a href="http://ctms.engin.umich.edu/CTMS/index.php?aux=Index_Animations">Animations</a></li>
							<li class="item" id="Index_Extras"><a href="http://ctms.engin.umich.edu/CTMS/index.php?aux=Index_Extras">Extras</a></li>
						</div></div>
					</ul>
									
					<ul class="menu">
						<li class="heading" id="Next"><a href="http://ctms.engin.umich.edu/CTMS/index.php?example=Introduction&section=ControlRootLocus">NEXT&nbsp;►</a></li>
						<div class="collapse"><div class="expand">
						</div></div>
					</ul>
											
				</div>

			</div>
			
			<div id="body_container">
			
				<div id="gradient_container"></div>
			
				<div id="top">
				
					<a href="http://ctms.engin.umich.edu/CTMS/index.php?aux=Home"><img id="CTMS_logo" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/CTMS_logo.png"></a>
				
					<ul class="example" style="overflow-y: hidden;">
					
						<li class="item" id="Introduction"><a href="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design.html"><img class="icon" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_Icon_Selected.png"><div class="tab" style="background: linear-gradient(rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.247059) 100%);">INTRODUCTION</div></a></li>
						<li class="item" id="CruiseControl"><a href="http://ctms.engin.umich.edu/CTMS/index.php?example=CruiseControl&section=ControlPID"><img class="icon" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/CruiseControl_Icon.png"><div class="tab">CRUISE&nbsp;CONTROL</div></a></li>
						<li class="item" id="MotorSpeed"><a href="http://ctms.engin.umich.edu/CTMS/index.php?example=MotorSpeed&section=ControlPID"><img class="icon" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/MotorSpeed_Icon.png"><div class="tab">MOTOR&nbsp;SPEED</div></a></li>
						<li class="item" id="MotorPosition"><a href="http://ctms.engin.umich.edu/CTMS/index.php?example=MotorPosition&section=ControlPID"><img class="icon" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/MotorPosition_Icon.png"><div class="tab">MOTOR&nbsp;POSITION</div></a></li>
						<li class="item" id="Suspension"><a href="http://ctms.engin.umich.edu/CTMS/index.php?example=Suspension&section=ControlPID"><img class="icon" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Suspension_Icon.png"><div class="tab">SUSPENSION</div></a></li>
						<li class="item" id="InvertedPendulum"><a href="http://ctms.engin.umich.edu/CTMS/index.php?example=InvertedPendulum&section=ControlPID"><img class="icon" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/InvertedPendulum_Icon.png"><div class="tab">INVERTED&nbsp;PENDULUM</div></a></li>
						<li class="item" id="AircraftPitch"><a href="http://ctms.engin.umich.edu/CTMS/index.php?example=AircraftPitch&section=ControlPID"><img class="icon" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/AircraftPitch_Icon.png"><div class="tab">AIRCRAFT&nbsp;PITCH</div></a></li>
						<li class="item" id="BallBeam"><a href="http://ctms.engin.umich.edu/CTMS/index.php?example=BallBeam&section=ControlPID"><img class="icon" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/BallBeam_Icon.png"><div class="tab">BALL&nbsp;&amp;&nbsp;BEAM</div></a></li>
					
					</ul> 
		
				</div>
				
				<div id="content_container">
					<div class="content">
   <div class="content_fx" style="opacity: 1;">
      <h1>Introduction: PID Controller Design</h1>
      <!--introduction-->
      <p>In this tutorial we will introduce a simple yet versatile feedback compensator structure, the Proportional-Integral-Derivative
         (PID) controller. We will discuss the effect of each of the pid parameters on the closed-loop dynamics and demonstrate how
         to use a PID controller to improve the system performance.
      </p>
      <p>Key MATLAB commands used in this tutorial are: <a href="http://www.mathworks.com/help/toolbox/control/ref/tf.html"><tt>tf</tt></a> , <a href="http://www.mathworks.com/help/toolbox/control/ref/step.html"><tt>step</tt></a> , <a href="http://www.mathworks.com/help/toolbox/control/ref/pid.html"><tt>pid</tt></a> , <a href="http://www.mathworks.com/help/toolbox/control/ref/feedback.html"><tt>feedback</tt></a> , <a href="http://www.mathworks.com/help/toolbox/control/ref/pidtool.html"><tt>pidtool</tt></a> , <a href="http://www.mathworks.com/help/toolbox/control/ref/pidtune.html"><tt>pidtune</tt></a></p>
      <!--/introduction-->
      <h2>Contents</h2>
      <div>
         <ul>
            <li><a href="http://ctms.engin.umich.edu/CTMS/index.php?example=Introduction&section=ControlPID#1">PID Overview</a></li>
            <li><a href="http://ctms.engin.umich.edu/CTMS/index.php?example=Introduction&section=ControlPID#7">The Characteristics of P, I, and D Controllers</a></li>
            <li><a href="http://ctms.engin.umich.edu/CTMS/index.php?example=Introduction&section=ControlPID#10">Example Problem</a></li>
            <li><a href="http://ctms.engin.umich.edu/CTMS/index.php?example=Introduction&section=ControlPID#11">Open-Loop Step Response</a></li>
            <li><a href="http://ctms.engin.umich.edu/CTMS/index.php?example=Introduction&section=ControlPID#14">Proportional Control</a></li>
            <li><a href="http://ctms.engin.umich.edu/CTMS/index.php?example=Introduction&section=ControlPID#17">Proportional-Derivative Control</a></li>
            <li><a href="http://ctms.engin.umich.edu/CTMS/index.php?example=Introduction&section=ControlPID#20">Proportional-Integral Control</a></li>
            <li><a href="http://ctms.engin.umich.edu/CTMS/index.php?example=Introduction&section=ControlPID#23">Proportional-Integral-Derivative Control</a></li>
            <li><a href="http://ctms.engin.umich.edu/CTMS/index.php?example=Introduction&section=ControlPID#26">General Tips for Designing a PID Controller</a></li>
            <li><a href="http://ctms.engin.umich.edu/CTMS/index.php?example=Introduction&section=ControlPID#28">Automatic PID Tuning</a></li>
         </ul>
      </div>
      <h2>PID Overview<a name="1"></a></h2>
      <p>In this tutorial, we will consider the following unity feedback system:</p>
      <p><img class="figure" vspace="5" hspace="5" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/feedback_block.png" alt=""> </p>
      <p>The output of a PID controller, equal to the control input to the plant, in the time-domain is as follows:</p>
      <p><span class="eqn_num">(1)</span><img class="display_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq30707.png" alt="$$
u(t) = K_p e(t) + K_i \int e(t)dt + K_p \frac{de}{dt}
$$"></p>
      <p>First, let's take a look at how the PID controller works in a closed-loop system using the schematic shown above. The variable
         (<img class="inline_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq24615.png" alt="$e$">) represents the tracking error, the difference between the desired input value (<img class="inline_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq25861.png" alt="$r$">) and the actual output (<img class="inline_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq44020.png" alt="$y$">). This error signal (<img class="inline_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq24615.png" alt="$e$">) will be sent to the PID controller, and the controller computes both the derivative and the integral of this error signal.
         The control signal (<img class="inline_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq35435.png" alt="$u$">) to the plant is equal to the proportional gain (<img class="inline_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq63713.png" alt="$K_p$">) times the magnitude of the error plus the integral gain (<img class="inline_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq10252.png" alt="$K_i$">) times the integral of the error plus the derivative gain (<img class="inline_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq58630.png" alt="$K_d$">) times the derivative of the error.
      </p>
      <p>This control signal (<img class="inline_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq35435.png" alt="$u$">) is sent to the plant, and the new output (<img class="inline_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq44020.png" alt="$y$">) is obtained. The new output (<img class="inline_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq44020.png" alt="$y$">) is then fed back and compared to the reference to find the new error signal (<img class="inline_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq24615.png" alt="$e$">). The controller takes this new error signal and computes its derivative and its integral again, ad infinitum.
      </p>
      <p>The transfer function of a PID controller is found by taking the Laplace transform of Eq.(1).</p>
      <p><span class="eqn_num">(2)</span><img class="display_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq59469.png" alt="$$
K_p + \frac {K_i} {s} + K_d s = \frac{K_d s^2 + K_p s + K_i} {s}
$$"></p>
      <p><img class="inline_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq63713.png" alt="$K_p$"> = Proportional gain <img class="inline_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq10252.png" alt="$K_i$"> = Integral gain <img class="inline_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq58630.png" alt="$K_d$"> = Derivative gain
      </p>
      <p>We can define a PID controller in MATLAB using the transfer function directly, for example:</p><pre class="codeinput">Kp = 1;
Ki = 1;
Kd = 1;

s = tf(<span class="string">'s'</span>);
C = Kp + Ki/s + Kd*s
</pre><pre class="codeoutput">C =
 
  s^2 + s + 1
  -----------
       s
 
Continuous-time transfer function.

</pre><p>Alternatively, we may use MATLAB's <b>pid controller object</b> to generate an equivalent continuous-time controller as follows:
      </p><pre class="codeinput">C = pid(Kp,Ki,Kd)
</pre><pre class="codeoutput">C =
 
             1          
  Kp + Ki * --- + Kd * s
             s          

  with Kp = 1, Ki = 1, Kd = 1
 
Continuous-time PID controller in parallel form.

</pre><p>Let's convert the pid object to a transfer function to see that it yields the same result as above:</p><pre class="codeinput">tf(C)
</pre><pre class="codeoutput">ans =
 
  s^2 + s + 1
  -----------
       s
 
Continuous-time transfer function.

</pre><h2>The Characteristics of P, I, and D Controllers<a name="7"></a></h2>
      <p>A proportional controller (<img class="inline_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq63713.png" alt="$K_p$">) will have the effect of reducing the rise time and will reduce but never eliminate the <b>steady-state error</b>. An integral control (<img class="inline_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq10252.png" alt="$K_i$">) will have the effect of eliminating the steady-state error for a constant or step input, but it may make the transient response
         slower. A derivative control (<img class="inline_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq58630.png" alt="$K_d$">) will have the effect of increasing the stability of the system, reducing the overshoot, and improving the transient response.
      </p>
      <p>The effects of each of controller parameters, <img class="inline_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq63713.png" alt="$K_p$">, <img class="inline_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq58630.png" alt="$K_d$">, and <img class="inline_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq10252.png" alt="$K_i$"> on a closed-loop system are summarized in the table below.
      </p>
      <p>
         </p><center>
         </center><table border=""><tbody><tr>
         <td><center><b> CL RESPONSE </b></center></td>
         <td><center> <b> RISE TIME </b></center></td>
         <td><center><b> OVERSHOOT </b></center></td>
         <td><center><b> SETTLING TIME </b></center></td>
         <td><center><b> S-S ERROR </b></center></td>
         </tr><tr>
         <td> <b><center>Kp</center></b></td>
         <td><center>Decrease</center></td>
         <td><center>Increase</center></td>
         <td><center>Small Change</center></td>
         <td><center>Decrease</center></td>
         </tr><tr>
         <td><b><center>Ki</center></b></td>
         <td><center>Decrease</center></td>
         <td><center>Increase</center></td>
         <td><center>Increase</center></td>
         <td><center>Eliminate</center></td>
         </tr><tr>
         <td><b><center>Kd</center></b></td>
         <td><center>Small Change</center></td>
         <td><center>Decrease</center></td>
         <td><center>Decrease</center></td>
         <td><center> No Change </center></td>
         </tr></tbody></table>
         
         
      <p></p>
      <p>Note that these correlations may not be exactly accurate, because <img class="inline_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq63713.png" alt="$K_p$">, <img class="inline_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq10252.png" alt="$K_i$">, and <img class="inline_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq58630.png" alt="$K_d$"> are dependent on each other. In fact, changing one of these variables can change the effect of the other two. For this reason,
         the table should only be used as a reference when you are determining the values for <img class="inline_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq10252.png" alt="$K_i$">, <img class="inline_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq63713.png" alt="$K_p$"> and <img class="inline_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq58630.png" alt="$K_d$">.
      </p>
      <h2>Example Problem<a name="10"></a></h2>
      <p>Suppose we have a simple mass, spring, and damper problem.</p>
      <p><img class="figure" vspace="5" hspace="5" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/mass_spring_damper.png" alt=""> </p>
      <p>The modeling equation of this system is</p>
      <p><span class="eqn_num">(3)</span><img class="display_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq00449.png" alt="$$
M\ddot{x} + b\dot{x} + kx = F
$$"></p>
      <p>Taking the Laplace transform of the modeling equation, we get</p>
      <p><span class="eqn_num">(4)</span><img class="display_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq45883.png" alt="$$
Ms^{2}X(s) + bsX(s) + kX(s) = F(s)
$$"></p>
      <p>The transfer function between the displacement <img class="inline_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq99405.png" alt="$X(s)$"> and the input <img class="inline_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq65730.png" alt="$F(s)$"> then becomes
      </p>
      <p><span class="eqn_num">(5)</span><img class="display_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq77305.png" alt="$$
\frac{X(s)}{F(s)} = \frac{1}{Ms^2 + bs + k}
$$"></p>
      <p>Let</p><pre>    M = 1 kg
    b = 10 N s/m
    k = 20 N/m
    F = 1 N</pre><p>Plug these values into the above transfer function</p>
      <p><span class="eqn_num">(6)</span><img class="display_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq07589.png" alt="$$
\frac{X(s)}{F(s)} = \frac{1}{s^2 + 10s + 20}
$$"></p>
      <p>The goal of this problem is to show you how each of <img class="inline_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq63713.png" alt="$K_p$">, <img class="inline_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq10252.png" alt="$K_i$"> and <img class="inline_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq58630.png" alt="$K_d$"> contributes to obtain
      </p><pre>    Fast rise time
    Minimum overshoot
    No steady-state error</pre><h2>Open-Loop Step Response<a name="11"></a></h2>
      <p>Let's first view the open-loop step response. Create a new m-file and run the following code:</p><pre class="codeinput">s = tf(<span class="string">'s'</span>);
P = 1/(s^2 + 10*s + 20);
step(P)
</pre><img class="figure" vspace="5" hspace="5" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_01.png" alt=""> <p>The DC gain of the plant transfer function is 1/20, so 0.05 is the final value of the output to an unit step input. This corresponds
         to the steady-state error of 0.95, quite large indeed. Furthermore, the rise time is about one second, and the settling time
         is about 1.5 seconds. Let's design a controller that will reduce the rise time, reduce the settling time, and eliminate the
         steady-state error.
      </p>
      <h2>Proportional Control<a name="14"></a></h2>
      <p>From the table shown above, we see that the proportional controller (Kp) reduces the rise time, increases the overshoot, and
         reduces the steady-state error.
      </p>
      <p>The closed-loop transfer function of the above system with a proportional controller is:</p>
      <p><span class="eqn_num">(7)</span><img class="display_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq16430.png" alt="$$
\frac{X(s)}{F(s)} = \frac{K_p}{s^2 + 10s + (20 + K_p)}
$$"></p>
      <p>Let the proportional gain (<img class="inline_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq63713.png" alt="$K_p$">) equal 300 and change the m-file to the following:
      </p><pre class="codeinput">Kp = 300;
C = pid(Kp)
T = feedback(C*P,1)

t = 0:0.01:2;
step(T,t)
</pre><pre class="codeoutput">C =
 
  Kp = 300
 
P-only controller.


T =
 
        300
  ----------------
  s^2 + 10 s + 320
 
Continuous-time transfer function.

</pre><img class="figure" vspace="5" hspace="5" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_02.png" alt=""> <p>The above plot shows that the proportional controller reduced both the rise time and the steady-state error, increased the
         overshoot, and decreased the settling time by small amount.
      </p>
      <h2>Proportional-Derivative Control<a name="17"></a></h2>
      <p>Now, let's take a look at a PD control. From the table shown above, we see that the derivative controller (Kd) reduces both
         the overshoot and the settling time. The closed-loop transfer function of the given system with a PD controller is:
      </p>
      <p><span class="eqn_num">(8)</span><img class="display_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq31594.png" alt="$$
\frac{X(s)}{F(s)} = \frac{K_d s + K_p}{s^2 + (10 + K_d) s + (20 + K_p)}
$$"></p>
      <p>Let <img class="inline_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq63713.png" alt="$K_p$"> equal 300 as before and let <img class="inline_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq58630.png" alt="$K_d$"> equal 10. Enter the following commands into an m-file and run it in the MATLAB command window.
      </p><pre class="codeinput">Kp = 300;
Kd = 10;
C = pid(Kp,0,Kd)
T = feedback(C*P,1)

t = 0:0.01:2;
step(T,t)
</pre><pre class="codeoutput">C =
 
             
  Kp + Kd * s
             

  with Kp = 300, Kd = 10
 
Continuous-time PD controller in parallel form.


T =
 
     10 s + 300
  ----------------
  s^2 + 20 s + 320
 
Continuous-time transfer function.

</pre><img class="figure" vspace="5" hspace="5" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_03.png" alt=""> <p>This plot shows that the derivative controller reduced both the overshoot and the settling time, and had a small effect on
         the rise time and the steady-state error.
      </p>
      <h2>Proportional-Integral Control<a name="20"></a></h2>
      <p>Before going into a PID control, let's take a look at a PI control. From the table, we see that an integral controller (Ki)
         decreases the rise time, increases both the overshoot and the settling time, and eliminates the steady-state error. For the
         given system, the closed-loop transfer function with a PI control is:
      </p>
      <p><span class="eqn_num">(9)</span><img class="display_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq06854.png" alt="$$
\frac{X(s)}{F(s)} = \frac{K_p s + K_i}{s^3 + 10 s^2 + (20 + K_p s + K_i)}
$$"></p>
      <p>Let's reduce the <img class="inline_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq63713.png" alt="$K_p$"> to 30, and let <img class="inline_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq10252.png" alt="$K_i$"> equal 70. Create an new m-file and enter the following commands.
      </p><pre class="codeinput">Kp = 30;
Ki = 70;
C = pid(Kp,Ki)
T = feedback(C*P,1)

t = 0:0.01:2;
step(T,t)
</pre><pre class="codeoutput">C =
 
             1 
  Kp + Ki * ---
             s 

  with Kp = 30, Ki = 70
 
Continuous-time PI controller in parallel form.


T =
 
         30 s + 70
  ------------------------
  s^3 + 10 s^2 + 50 s + 70
 
Continuous-time transfer function.

</pre><img class="figure" vspace="5" hspace="5" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_04.png" alt=""> <p>Run this m-file in the MATLAB command window, and you should get the following plot. We have reduced the proportional gain
         (Kp) because the integral controller also reduces the rise time and increases the overshoot as the proportional controller
         does (double effect). The above response shows that the integral controller eliminated the steady-state error.
      </p>
      <h2>Proportional-Integral-Derivative Control<a name="23"></a></h2>
      <p>Now, let's take a look at a PID controller. The closed-loop transfer function of the given system with a PID controller is:</p>
      <p><span class="eqn_num">(10)</span><img class="display_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq90690.png" alt="$$
\frac{X(s)}{F(s)} = \frac{K_d s^2 + K_p s + K_i}{s^3 + (10 + K_d)s^2 + (20 + K_p)s + K_i }
$$"></p>
      <p>After several trial and error runs, the gains <img class="inline_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq63713.png" alt="$K_p$"> = 350, <img class="inline_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq10252.png" alt="$K_i$"> = 300, and <img class="inline_eqn" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_eq58630.png" alt="$K_d$"> = 50 provided the desired response. To confirm, enter the following commands to an m-file and run it in the command window.
         You should get the following step response.
      </p><pre class="codeinput">Kp = 350;
Ki = 300;
Kd = 50;
C = pid(Kp,Ki,Kd)
T = feedback(C*P,1);

t = 0:0.01:2;
step(T,t)
</pre><pre class="codeoutput">C =
 
             1          
  Kp + Ki * --- + Kd * s
             s          

  with Kp = 350, Ki = 300, Kd = 50
 
Continuous-time PID controller in parallel form.

</pre><img class="figure" vspace="5" hspace="5" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Introduction_ControlPID_05.png" alt=""> <p>Now, we have obtained a closed-loop system with no overshoot, fast rise time, and no steady-state error.</p>
      <h2>General Tips for Designing a PID Controller<a name="26"></a></h2>
      <p>When you are designing a PID controller for a given system, follow the steps shown below to obtain a desired response.</p>
      <div>
         <ol>
            <li>Obtain an open-loop response and determine what needs to be improved</li>
            <li>Add a proportional control to improve the rise time</li>
            <li>Add a derivative control to improve the overshoot</li>
            <li>Add an integral control to eliminate the steady-state error</li>
            <li>Adjust each of Kp, Ki, and Kd until you obtain a desired overall response. You can always refer to the table shown in this
               "PID Tutorial" page to find out which controller controls what characteristics.
            </li>
         </ol>
      </div>
      <p>Lastly, please keep in mind that you do not need to implement all three controllers (proportional, derivative, and integral)
         into a single system, if not necessary. For example, if a PI controller gives a good enough response (like the above example),
         then you don't need to implement a derivative controller on the system. Keep the controller as simple as possible.
      </p>
      <h2>Automatic PID Tuning<a name="28"></a></h2>
      <p>MATLAB provides tools for automatically choosing optimal PID gains which makes the trial and error process described above
         unnecessary. You can access the tuning algorithm directly using <b>pidtune</b> or through a nice graphical user interface (GUI) using <b>pidtool</b>.
      </p>
      <p>The MATLAB automated tuning algorithm chooses PID gains to balance performance (response time, bandwidth) and robustness (stability
         margins). By default the algorthm designs for a 60 degree phase margin.
      </p>
      <p>Let's explore these automated tools by first generating a proportional controller for the mass-spring-damper system by entering
         the following commands:
      </p>
      <p>
         </p><pre class="codeinput">         pidtool(P,'p')
         </pre>
         
      <p></p>
      <p>The pidtool GUI window, like that shown below, should appear.</p>
      <p><img class="figure" vspace="5" hspace="5" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/pidtool_1.png" alt=""> </p>
      <p>Notice that the step response shown is slower than the proportional controller we designed by hand. Now click on the <b>Show Parameters</b> button on the top right.  As expected the proportional gain constant, Kp, is lower than the one we used, Kp = 94.85 &lt; 300.
      </p>
      <p>We can now interactively tune the controller parameters and immediately see the resulting response int he GUI window.  Try
         dragging the resposne time slider to the right to 0.14s, as shown in the figure below. The response does indeeed speed up,
         and we can see Kp is now closer to the manual value. We can also see all the other performance and robustness parameters for
         the system.  Note that the phase margin is 60 degrees, the default for pidtool and generally a good balance of robustness
         and performance.
      </p>
      <p><img class="figure" vspace="5" hspace="5" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/pidtool_2.png" alt=""> </p>
      <p>Now let's try designing a PID controller for our system. By specifying the previously designed or (baseline) controller, C,
         as the second parameter, pidtool will design another PID controller (instead of P or PI) and will compare the response of
         the system with the automated controller with that of the baseline.
      </p>
      <p>
         </p><pre class="codeinput">         pidtool(P,C)
         </pre>
         
      <p></p>
      <p>We see in the output window that the automated controller responds slower and exhibits more overshoot than the baseline. Now
         choose the <b>Design Mode: Extended</b> option at the top, which reveals more tuning parameters.
      </p>
      <p><img class="figure" vspace="5" hspace="5" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/pidtool_3.png" alt=""> </p>
      <p>Now type in <b>Bandwidth: 32 rad/s</b> and <b>Phase Margin: 90 deg</b> to generate a controller similar in performance to the baseline.  Keep in mind that a higher bandwidth (0 dB crossover of
         the open-loop) results in a faster rise time, and a higher phase margin reduces the overshoot and improves the system stability.
      </p>
      <p>Finally we note that we can generate the same controller using the command line tool <b>pidtune</b> instead of the pidtool GUI
      </p><pre class="codeinput">opts = pidtuneOptions(<span class="string">'CrossoverFrequency'</span>,32,<span class="string">'PhaseMargin'</span>,90);
[C, info] = pidtune(P, <span class="string">'pid'</span>, opts)
</pre><pre class="codeoutput">C =
 
             1          
  Kp + Ki * --- + Kd * s
             s          

  with Kp = 320, Ki = 169, Kd = 31.5
 
Continuous-time PID controller in parallel form.

info = 
                Stable: 1
    CrossoverFrequency: 32
           PhaseMargin: 90
</pre><p class="footer"><br>
         Published with MATLAB® 7.14<br></p>
   </div>
</div>
<!--
##### SOURCE BEGIN #####
%% Introduction: PID Controller Design
%
% In this tutorial we will introduce a simple yet versatile feedback compensator structure,
% the Proportional-Integral-Derivative (PID) controller. We will discuss the 
% effect of each of the pid parameters on the closed-loop dynamics and
% demonstrate how to use a PID controller to improve the system performance.
%
% Key MATLAB commands used in this tutorial are:
% <http://www.mathworks.com/help/toolbox/control/ref/tf.html |tf|> , 
% <http://www.mathworks.com/help/toolbox/control/ref/step.html |step|> , 
% <http://www.mathworks.com/help/toolbox/control/ref/pid.html |pid|> , 
% <http://www.mathworks.com/help/toolbox/control/ref/feedback.html |feedback|> , 
% <http://www.mathworks.com/help/toolbox/control/ref/pidtool.html |pidtool|> , 
% <http://www.mathworks.com/help/toolbox/control/ref/pidtune.html |pidtune|>
%
%% PID Overview
%
% In this tutorial, we will consider the following unity feedback system:
%
% <<Content/Introduction/Control/PID/figures/feedback_block.png>>
%
% The output of a PID controller, equal to the control input to the plant, in the time-domain is as follows:
%
% $$ 
% u(t) = K_p e(t) + K_i \int e(t)dt + K_p \frac{de}{dt}
% $$
%
% First, let's take a look at how the PID controller works in a closed-loop system using the schematic shown above. The variable ($e$) represents the
% tracking error, the difference between the desired input value ($r$) and the actual output ($y$).
% This error signal ($e$) will be sent to the PID controller, and the controller computes both the derivative and the integral of this error signal.
% The control signal ($u$) to the plant is equal to the proportional gain ($K_p$) times the magnitude of the error plus the integral gain ($K_i$) times 
% the integral of the error plus the derivative gain ($K_d$) times the derivative of the error.
%
% This control signal ($u$) is sent to the plant, and the new output ($y$)
% is obtained. The new output ($y$) is then fed back and compared to the reference to find the new error signal ($e$). 
% The controller takes this new error signal and computes its derivative
% and its integral again, ad infinitum.
%
% The transfer function of a PID controller is found by taking the Laplace
% transform of Eq.(1).
%
% $$ 
% K_p + \frac {K_i} {s} + K_d s = \frac{K_d s^2 + K_p s + K_i} {s}  
% $$
%
% $K_p$ = Proportional gain
% $K_i$ = Integral gain
% $K_d$ = Derivative gain
%
% We can define a PID controller in MATLAB using the transfer
% function directly, for example:
%
%%

Kp = 1;
Ki = 1;
Kd = 1;

s = tf('s');
C = Kp + Ki/s + Kd*s

%%
%
% Alternatively, we may use MATLAB's *pid controller object* to generate an
% equivalent continuous-time controller as follows:
%
%%

C = pid(Kp,Ki,Kd)

%%
%
% Let's convert the pid object to a transfer function to see that it
% yields the same result as above:
%
%%

tf(C)


%% The Characteristics of P, I, and D Controllers
%
% A proportional controller ($K_p$) will have the effect of reducing the rise time and will reduce but never eliminate the *steady-state error*.
% An integral control ($K_i$) will have the effect of eliminating the steady-state error for a constant or step input, but it may make the transient response slower.
% A derivative control ($K_d$) will have the effect of increasing the stability of the system, reducing the overshoot, and improving the transient response. 
%
% The effects of each of controller parameters, $K_p$, $K_d$, and $K_i$ on a closed-loop
% system are summarized in the table below.
%
%%
% <html> 
% <table border><center>
% <tr>
% <td><center><b> CL RESPONSE </center></b></td>
% <td><center> <b> RISE TIME </center></b></td>
% <td><center><b> OVERSHOOT </center></b></td>
% <td><center><b> SETTLING TIME </center></b></td>
% <td><center><b> S-S ERROR </center></b></td>
% <tr>
% <td> <b><center>Kp</center></b></td>
% <td><center>Decrease</center></td>
% <td><center>Increase</center></td>
% <td><center>Small Change</center></td>
% <td><center>Decrease</center></td>
% <tr>
% <td><b><center>Ki</center></b></td>
% <td><center>Decrease</center></td>
% <td><center>Increase</center></td>
% <td><center>Increase</center></td>
% <td><center>Eliminate</center></td>
% <tr>
% <td><b><center>Kd</center></b></td>
% <td><center>Small Change</center></td>
% <td><center>Decrease</center></td>
% <td><center>Decrease</center></td>
% <td><center> No Change </center></td>
% </table>
% </center>
% </html> 
%%
%
% Note that these correlations may not be exactly accurate, because $K_p$, $K_i$,
% and $K_d$ are dependent on each other. In fact, changing one of these variables can change the effect of the other two. 
% For this reason, the table should only be used as a reference when you are determining the values for $K_i$, $K_p$ and $K_d$.
%
%% Example Problem
%
% Suppose we have a simple mass, spring, and damper problem.
%
% <<Content/Introduction/Control/PID/figures/mass_spring_damper.png>>
%
% The modeling equation of this system is 
%
% $$ 
% M\ddot{x} + b\dot{x} + kx = F
% $$
%
% Taking the Laplace transform of the modeling equation, we get 
%
% $$ 
% Ms^{2}X(s) + bsX(s) + kX(s) = F(s) 
% $$
%
% The transfer function between the displacement $X(s)$ and the input
% $F(s)$ then becomes 
%
% $$ 
% \frac{X(s)}{F(s)} = \frac{1}{Ms^2 + bs + k} 
% $$
%
% Let
%
%      M = 1 kg
%      b = 10 N s/m
%      k = 20 N/m
%      F = 1 N
%
% Plug these values into the above transfer function 
%
% $$ 
% \frac{X(s)}{F(s)} = \frac{1}{s^2 + 10s + 20} 
% $$
%
% The goal of this problem is to show you how each of $K_p$, $K_i$ and $K_d$ contributes to obtain
%
%      Fast rise time
%      Minimum overshoot
%      No steady-state error
%
%% Open-Loop Step Response
%
% Let's first view the open-loop step response. Create a new m-file and run the following code:
%
%%

s = tf('s');
P = 1/(s^2 + 10*s + 20);
step(P)

%%
%
% The DC gain of the plant transfer function is 1/20, so 0.05 is the final 
% value of the output to an unit step input. This corresponds to the steady-state 
% error of 0.95, quite large indeed. Furthermore, the rise time is about one 
% second, and the settling time is about 1.5 seconds. Let's design a controller 
% that will reduce the rise time, reduce the settling time, and eliminate the steady-state error.
%
%%  Proportional Control
% 
% From the table shown above, we see that the proportional controller (Kp)
% reduces the rise time, increases the overshoot, and reduces the
% steady-state error.
%
% The closed-loop transfer function of the above system with a proportional controller is: 
%
% $$ 
% \frac{X(s)}{F(s)} = \frac{K_p}{s^2 + 10s + (20 + K_p)} 
% $$
%
% Let the proportional gain ($K_p$) equal 300 and change the m-file to the
% following:
%%

Kp = 300;
C = pid(Kp)
T = feedback(C*P,1)

t = 0:0.01:2;
step(T,t)

%%
%
% The above plot shows that the proportional controller reduced both the 
% rise time and the steady-state error, increased the overshoot, and 
% decreased the settling time by small amount. 
%
%% Proportional-Derivative Control
%
% Now, let's take a look at a PD control. From the table shown above, we
% see that the derivative controller (Kd) reduces both the overshoot and
% the settling time. The closed-loop transfer function of the given system with a PD controller is:
%
% $$ 
% \frac{X(s)}{F(s)} = \frac{K_d s + K_p}{s^2 + (10 + K_d) s + (20 + K_p)} 
% $$
%
% Let $K_p$ equal 300 as before and let $K_d$ equal 10. Enter the following
% commands into an m-file and run it in the MATLAB command window.
%
%%

Kp = 300;
Kd = 10;
C = pid(Kp,0,Kd)
T = feedback(C*P,1)

t = 0:0.01:2;
step(T,t)

%%
% This plot shows that the derivative controller reduced both the overshoot
% and the settling time, and had a small effect on the rise time and the
% steady-state error.
%
%% Proportional-Integral Control
%
% Before going into a PID control, let's take a look at a PI control. From 
% the table, we see that an integral controller (Ki) decreases the rise time,
% increases both the overshoot and the settling time, and eliminates the steady-state error.
% For the given system, the closed-loop transfer function with a PI control
% is:
%
% $$ 
% \frac{X(s)}{F(s)} = \frac{K_p s + K_i}{s^3 + 10 s^2 + (20 + K_p s + K_i)} 
% $$
%
% Let's reduce the $K_p$ to 30, and let $K_i$ equal 70. Create an new m-file and
% enter the following commands.
%
%%

Kp = 30;
Ki = 70;
C = pid(Kp,Ki)
T = feedback(C*P,1)

t = 0:0.01:2;
step(T,t)

%%
%
% Run this m-file in the MATLAB command window, and you should get the
% following plot.
% We have reduced the proportional gain (Kp) because the integral
% controller also reduces the rise time and increases the overshoot as the proportional controller does (double effect).
% The above response shows that the integral controller eliminated the
% steady-state error.
%
%% Proportional-Integral-Derivative Control
%
% Now, let's take a look at a PID controller. The closed-loop transfer
% function of the given system with a PID controller is:
%
% $$ 
% \frac{X(s)}{F(s)} = \frac{K_d s^2 + K_p s + K_i}{s^3 + (10 + K_d)s^2 + (20 + K_p)s + K_i } 
% $$
%
% After several trial and error runs, the gains $K_p$ = 350, $K_i$ = 300, and 
% $K_d$ = 50 provided the desired response. To confirm, enter the following 
% commands to an m-file and run it in the command window. You should get the 
% following step response. 
%%

Kp = 350;
Ki = 300;
Kd = 50;
C = pid(Kp,Ki,Kd)
T = feedback(C*P,1);

t = 0:0.01:2;
step(T,t)

%%
%
% Now, we have obtained a closed-loop system with no overshoot, fast rise
% time, and no steady-state error.
%
%% General Tips for Designing a PID Controller
%
% When you are designing a PID controller for a given system, follow the steps shown below to obtain a desired response.
%
%%
% # Obtain an open-loop response and determine what needs to be improved
% # Add a proportional control to improve the rise time
% # Add a derivative control to improve the overshoot
% # Add an integral control to eliminate the steady-state error
% # Adjust each of Kp, Ki, and Kd until you obtain a desired overall response. You can always refer to the table shown in this "PID Tutorial" page to find out which controller controls what characteristics. 
%
% Lastly, please keep in mind that you do not need to implement all three controllers (proportional, derivative, and integral) into a single system, if not necessary.
% For example, if a PI controller gives a good enough response (like the above example), then you don't need to implement a derivative controller on the system. Keep the controller as simple as possible. 
%
%% Automatic PID Tuning
%
% MATLAB provides tools for automatically choosing optimal PID
% gains which makes the trial and error process
% described above unnecessary. You can access the tuning algorithm directly
% using *pidtune* or through a nice graphical user interface (GUI) using
% *pidtool*.
%
% The MATLAB automated tuning algorithm chooses PID gains to balance performance 
% (response time, bandwidth) and robustness (stability margins). By default the
% algorthm designs for a 60 degree phase margin.
%
% Let's explore these automated tools by first generating a proportional 
% controller for the mass-spring-damper system by entering the following commands:
%
%%
% <html>
% <pre class="codeinput">
% pidtool(P,'p')
% </pre>
% </html>
%
%%
%
% The pidtool GUI window, like that shown below, should appear.
%
% <<Content/Introduction/Control/PID/figures/pidtool_1.png>>
%
% Notice that the step response shown is slower than the 
% proportional controller we designed by hand. Now click on the *Show Parameters* 
% button on the top right.  As expected the proportional gain constant, Kp, is
% lower than the one we used, Kp = 94.85 < 300.
%
% We can now interactively tune the controller parameters and immediately
% see the resulting response int he GUI window.  Try dragging the resposne
% time slider to the right to 0.14s, as shown in the figure below. The response does
% indeeed speed up, and we can see Kp is now closer to the manual value. We
% can also see all the other performance and robustness parameters for the
% system.  Note that the phase margin is 60 degrees, the default for
% pidtool and generally a good balance of robustness and performance.
%
% <<Content/Introduction/Control/PID/figures/pidtool_2.png>>
%
% Now let's try designing a PID controller for our system. By specifying
% the previously designed or (baseline) controller, C, as the second parameter, pidtool
% will design another PID controller (instead of P or PI) and will compare
% the response of the system with the automated controller with that of the
% baseline.
%
%%
% <html>
% <pre class="codeinput">
% pidtool(P,C)
% </pre>
% </html>
%
%%
%
% We see in the output window that the automated controller responds slower 
% and exhibits more overshoot than the baseline. Now choose the *Design Mode: Extended*
% option at the top, which reveals more tuning parameters.  
%
% <<Content/Introduction/Control/PID/figures/pidtool_3.png>>
%
% Now type in *Bandwidth: 32 rad/s* and *Phase Margin: 90 deg* to generate
% a controller similar in performance to the baseline.  Keep in mind that
% a higher bandwidth (0 dB crossover of the open-loop) results in a faster rise time, and a
% higher phase margin reduces the overshoot and improves the system
% stability.
%
% Finally we note that we can generate the same controller using the
% command line tool *pidtune* instead of the pidtool GUI
%
%%

opts = pidtuneOptions('CrossoverFrequency',32,'PhaseMargin',90);
[C, info] = pidtune(P, 'pid', opts)

##### SOURCE END #####
-->				</div>
				
				<div id="left">

					<ul class="section">
						<li class="heading" id="System">SYSTEM<img class="section_heading_arrow" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/section_heading_arrow.png" style="top: 9px;"></li>
						<li class="item" id="SystemModeling"><a href="http://ctms.engin.umich.edu/CTMS/index.php?example=Introduction&section=SystemModeling">MODELING<img class="section_arrow" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/section_arrow.png" style="top: 9.5px;"></a></li>
						<li class="item" id="SystemAnalysis"><a href="http://ctms.engin.umich.edu/CTMS/index.php?example=Introduction&section=SystemAnalysis">ANALYSIS<img class="section_arrow" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/section_arrow.png" style="top: 9.5px;"></a></li>
					</ul>
					
					<div class="section_break"></div>

					<ul class="section">
						<li class="heading" id="Control">CONTROL<img class="section_heading_arrow" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/section_heading_arrow.png" style="top: 9px;"></li>
						<li class="item" id="ControlPID"><a href="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design.html" style="background: linear-gradient(to right, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.2) 100%);">PID<img class="section_arrow" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/section_arrow.png" style="top: 9.5px;"></a></li>
						<li class="item" id="ControlRootLocus"><a href="http://ctms.engin.umich.edu/CTMS/index.php?example=Introduction&section=ControlRootLocus">ROOT&nbsp;LOCUS<img class="section_arrow" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/section_arrow.png" style="top: 9.5px;"></a></li>
						<li class="item" id="ControlFrequency"><a href="http://ctms.engin.umich.edu/CTMS/index.php?example=Introduction&section=ControlFrequency">FREQUENCY<img class="section_arrow" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/section_arrow.png" style="top: 9.5px;"></a></li>
						<li class="item" id="ControlStateSpace"><a href="http://ctms.engin.umich.edu/CTMS/index.php?example=Introduction&section=ControlStateSpace">STATE-SPACE<img class="section_arrow" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/section_arrow.png" style="top: 9.5px;"></a></li>
						<li class="item" id="ControlDigital"><a href="http://ctms.engin.umich.edu/CTMS/index.php?example=Introduction&section=ControlDigital">DIGITAL<img class="section_arrow" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/section_arrow.png" style="top: 9.5px;"></a></li>
					</ul>
					
					<div class="section_break"></div>

					<ul class="section">
						<li class="heading" id="Simulink">SIMULINK<img class="section_heading_arrow" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/section_heading_arrow.png" style="top: 9px;"></li>
						<li class="item" id="SimulinkModeling"><a href="http://ctms.engin.umich.edu/CTMS/index.php?example=Introduction&section=SimulinkModeling">MODELING<img class="section_arrow" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/section_arrow.png" style="top: 9.5px;"></a></li>
						<li class="item" id="SimulinkControl"><a href="http://ctms.engin.umich.edu/CTMS/index.php?example=Introduction&section=SimulinkControl">CONTROL<img class="section_arrow" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/section_arrow.png" style="top: 9.5px;"></a></li>
					</ul>
		
				</div>
			
				<div style="clear:both"></div>
				
				<div id="copyright"><span style="color:#FF5500;font-weight:bold">© Copyright 2012</span>&nbsp;&nbsp;All rights reserved. No part of this publication may be reproduced or transmitted without the express written consent of the authors.</div>
				
			</div>
			
		</div>
	
		<script type="text/javascript" src="./Control Tutorials for MATLAB and Simulink - Introduction_ PID Controller Design_files/script.js"></script>
						
	
	


	</body></html>